{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ProtoFlow App Schema v2.0",
  "description": "ProtoFlow移动端APP原型JSON Schema定义 - 完整版",
  "type": "object",
  "required": ["version", "app"],
  "properties": {
    "version": {
      "type": "string",
      "description": "Schema版本号",
      "default": "2.0.0",
      "pattern": "^\\d+\\.\\d+\\.\\d+$"
    },
    "app": {
      "type": "object",
      "description": "APP配置",
      "required": ["id", "name", "pages", "router"],
      "properties": {
        "id": {
          "type": "string",
          "description": "APP唯一标识",
          "pattern": "^[a-z][a-z0-9-]{2,49}$"
        },
        "name": {
          "type": "string",
          "description": "APP名称",
          "minLength": 1,
          "maxLength": 100
        },
        "version": {
          "type": "string",
          "description": "APP版本",
          "pattern": "^\\d+\\.\\d+\\.\\d+$"
        },
        "description": {
          "type": "string",
          "description": "APP描述",
          "maxLength": 500
        },
        "pages": {
          "type": "array",
          "description": "页面数组",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/Page"
          }
        },
        "tabBar": {
          "$ref": "#/definitions/TabBar"
        },
        "router": {
          "$ref": "#/definitions/Router"
        },
        "theme": {
          "$ref": "#/definitions/Theme"
        },
        "modals": {
          "type": "object",
          "description": "全局模态弹窗定义",
          "additionalProperties": {
            "$ref": "#/definitions/Modal"
          }
        },
        "meta": {
          "type": "object",
          "description": "元数据",
          "properties": {
            "author": {
              "type": "string"
            },
            "createdAt": {
              "type": "string",
              "format": "date-time"
            },
            "updatedAt": {
              "type": "string",
              "format": "date-time"
            },
            "tags": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        }
      }
    }
  },
  "definitions": {
    "Page": {
      "type": "object",
      "required": ["id", "name", "componentTree"],
      "properties": {
        "id": {
          "type": "string",
          "description": "页面唯一标识",
          "pattern": "^[a-z][a-z0-9-]{2,49}$"
        },
        "name": {
          "type": "string",
          "description": "页面名称",
          "minLength": 1,
          "maxLength": 100
        },
        "description": {
          "type": "string",
          "description": "页面描述",
          "maxLength": 500
        },
        "componentTree": {
          "$ref": "#/definitions/Component"
        },
        "meta": {
          "type": "object",
          "description": "页面元数据",
          "properties": {
            "title": {
              "type": "string"
            },
            "keywords": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "icon": {
              "type": "string"
            },
            "hidden": {
              "type": "boolean",
              "default": false
            }
          }
        }
      }
    },
    "Component": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": {
          "type": "string",
          "description": "组件类型",
          "enum": [
            "statusBar",
            "navBar",
            "safeArea",
            "tabBar",
            "grid",
            "list",
            "card",
            "carousel",
            "input",
            "picker",
            "modal",
            "toast",
            "actionSheet",
            "text",
            "image",
            "button"
          ]
        },
        "id": {
          "type": "string",
          "description": "组件唯一标识"
        },
        "hidden": {
          "type": "boolean",
          "default": false
        },
        "disabled": {
          "type": "boolean",
          "default": false
        },
        "style": {
          "$ref": "#/definitions/CommonStyle"
        },
        "actions": {
          "$ref": "#/definitions/Actions"
        }
      },
      "if": {
        "properties": {
          "type": {
            "const": "statusBar"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/StatusBar"
      },
      "else-if": {
        "properties": {
          "type": {
            "const": "navBar"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/NavBar"
      },
      "else-if": {
        "properties": {
          "type": {
            "const": "safeArea"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/SafeArea"
      },
      "else-if": {
        "properties": {
          "type": {
            "const": "tabBar"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/TabBar"
      },
      "else-if": {
        "properties": {
          "type": {
            "const": "grid"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/Grid"
      },
      "else-if": {
        "properties": {
          "type": {
            "const": "list"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/List"
      },
      "else-if": {
        "properties": {
          "type": {
            "const": "card"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/Card"
      },
      "else-if": {
        "properties": {
          "type": {
            "const": "carousel"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/Carousel"
      },
      "else-if": {
        "properties": {
          "type": {
            "const": "input"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/Input"
      },
      "else-if": {
        "properties": {
          "type": {
            "const": "picker"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/Picker"
      },
      "else-if": {
        "properties": {
          "type": {
            "const": "modal"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/Modal"
      },
      "else-if": {
        "properties": {
          "type": {
            "const": "toast"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/Toast"
      },
      "else-if": {
        "properties": {
          "type": {
            "const": "actionSheet"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/ActionSheet"
      },
      "else-if": {
        "properties": {
          "type": {
            "const": "text"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/Text"
      },
      "else-if": {
        "properties": {
          "type": {
            "const": "image"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/Image"
      },
      "else-if": {
        "properties": {
          "type": {
            "const": "button"
          }
        }
      },
      "then": {
        "$ref": "#/definitions/Button"
      }
    },
    "StatusBar": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": {
          "const": "statusBar"
        },
        "style": {
          "type": "string",
          "enum": ["light", "dark"],
          "default": "dark"
        },
        "showTime": {
          "type": "boolean",
          "default": true
        },
        "showBattery": {
          "type": "boolean",
          "default": true
        },
        "showSignal": {
          "type": "boolean",
          "default": true
        },
        "networkType": {
          "type": "string",
          "enum": ["none", "wifi", "4g", "5g"],
          "default": "none"
        },
        "customContent": {
          "type": "object",
          "properties": {
            "left": {
              "type": "string"
            },
            "right": {
              "type": "string"
            }
          }
        },
        "height": {
          "type": "number",
          "default": 44
        },
        "backgroundColor": {
          "type": "string",
          "default": "#000000"
        },
        "textColor": {
          "type": "string",
          "default": "#FFFFFF"
        }
      }
    },
    "NavBar": {
      "type": "object",
      "required": ["type", "title"],
      "properties": {
        "type": {
          "const": "navBar"
        },
        "title": {
          "type": "string",
          "minLength": 1
        },
        "titleStyle": {
          "type": "object",
          "properties": {
            "fontSize": {
              "type": "number",
              "default": 18
            },
            "fontWeight": {
              "type": "string",
              "enum": ["normal", "bold", "semibold"],
              "default": "semibold"
            },
            "color": {
              "type": "string",
              "default": "#000000"
            }
          }
        },
        "leftItems": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/NavBarItem"
          }
        },
        "rightItems": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/NavBarItem"
          }
        },
        "backgroundColor": {
          "type": "string",
          "default": "#FFFFFF"
        },
        "borderless": {
          "type": "boolean",
          "default": false
        },
        "elevation": {
          "type": "number",
          "default": 0
        },
        "height": {
          "type": "number",
          "default": 44
        }
      }
    },
    "NavBarItem": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["text", "icon", "back"]
        },
        "text": {
          "type": "string"
        },
        "icon": {
          "type": "string"
        },
        "tintColor": {
          "type": "string",
          "default": "#000000"
        },
        "disabled": {
          "type": "boolean",
          "default": false
        },
        "onClickAction": {
          "$ref": "#/definitions/Action"
        }
      }
    },
    "SafeArea": {
      "type": "object",
      "required": ["type", "children"],
      "properties": {
        "type": {
          "const": "safeArea"
        },
        "edges": {
          "type": "string",
          "enum": ["top", "bottom", "left", "right", "all", "topAndBottom"],
          "default": "topAndBottom"
        },
        "backgroundColor": {
          "type": "string",
          "default": "#FFFFFF"
        },
        "padding": {
          "$ref": "#/definitions/Padding"
        },
        "children": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Component"
          }
        }
      }
    },
    "TabBar": {
      "type": "object",
      "required": ["type", "items"],
      "properties": {
        "type": {
          "const": "tabBar"
        },
        "items": {
          "type": "array",
          "minItems": 2,
          "items": {
            "$ref": "#/definitions/TabBarItem"
          }
        },
        "selectedIndex": {
          "type": "number",
          "default": 0
        },
        "backgroundColor": {
          "type": "string",
          "default": "#FFFFFF"
        },
        "height": {
          "type": "number",
          "default": 56
        },
        "showDivider": {
          "type": "boolean",
          "default": true
        }
      }
    },
    "TabBarItem": {
      "type": "object",
      "required": ["title"],
      "properties": {
        "title": {
          "type": "string"
        },
        "icon": {
          "type": "string"
        },
        "selectedIcon": {
          "type": "string"
        },
        "badge": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "number"
            }
          ]
        },
        "disabled": {
          "type": "boolean",
          "default": false
        },
        "pageId": {
          "type": "string"
        }
      }
    },
    "Grid": {
      "type": "object",
      "required": ["type", "items"],
      "properties": {
        "type": {
          "const": "grid"
        },
        "rowCount": {
          "type": "number",
          "default": 2
        },
        "colCount": {
          "type": "number",
          "default": 4
        },
        "spacing": {
          "type": "number",
          "default": 16
        },
        "padding": {
          "$ref": "#/definitions/Padding"
        },
        "items": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/GridItem"
          }
        },
        "scrollDirection": {
          "type": "string",
          "enum": ["vertical", "horizontal"],
          "default": "vertical"
        },
        "scrollable": {
          "type": "boolean",
          "default": true
        }
      }
    },
    "GridItem": {
      "type": "object",
      "required": ["text"],
      "properties": {
        "icon": {
          "type": "string"
        },
        "text": {
          "type": "string"
        },
        "badge": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "number"
            }
          ]
        },
        "disabled": {
          "type": "boolean",
          "default": false
        },
        "backgroundColor": {
          "type": "string",
          "default": "#FFFFFF"
        },
        "borderRadius": {
          "type": "number",
          "default": 8
        },
        "onClickAction": {
          "$ref": "#/definitions/Action"
        }
      }
    },
    "List": {
      "type": "object",
      "required": ["type", "items"],
      "properties": {
        "type": {
          "const": "list"
        },
        "items": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ListItem"
          }
        },
        "divider": {
          "type": "object",
          "properties": {
            "show": {
              "type": "boolean",
              "default": true
            },
            "color": {
              "type": "string",
              "default": "#E5E5E5"
            },
            "height": {
              "type": "number",
              "default": 1
            },
            "leftInset": {
              "type": "number",
              "default": 56
            }
          }
        },
        "padding": {
          "$ref": "#/definitions/Padding"
        },
        "scrollable": {
          "type": "boolean",
          "default": true
        }
      }
    },
    "ListItem": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["text", "iconText", "avatarText", "custom"]
        },
        "title": {
          "type": "string"
        },
        "subtitle": {
          "type": "string"
        },
        "accessory": {
          "type": "string",
          "enum": ["none", "arrow", "switch", "check"],
          "default": "none"
        },
        "icon": {
          "type": "string"
        },
        "avatar": {
          "type": "string"
        },
        "disabled": {
          "type": "boolean",
          "default": false
        },
        "switchValue": {
          "type": "boolean",
          "default": false
        },
        "onClickAction": {
          "$ref": "#/definitions/Action"
        }
      }
    },
    "Card": {
      "type": "object",
      "required": ["type", "children"],
      "properties": {
        "type": {
          "const": "card"
        },
        "title": {
          "type": "string"
        },
        "subtitle": {
          "type": "string"
        },
        "elevation": {
          "type": "number",
          "default": 2
        },
        "borderRadius": {
          "type": "number",
          "default": 8
        },
        "backgroundColor": {
          "type": "string",
          "default": "#FFFFFF"
        },
        "padding": {
          "$ref": "#/definitions/Padding"
        },
        "children": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Component"
          }
        },
        "onClickAction": {
          "$ref": "#/definitions/Action"
        }
      }
    },
    "Carousel": {
      "type": "object",
      "required": ["type", "items"],
      "properties": {
        "type": {
          "const": "carousel"
        },
        "items": {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/CarouselItem"
          }
        },
        "autoPlay": {
          "type": "boolean",
          "default": true
        },
        "interval": {
          "type": "number",
          "default": 3000
        },
        "showIndicator": {
          "type": "boolean",
          "default": true
        },
        "indicatorStyle": {
          "type": "string",
          "enum": ["dots", "numbers", "fraction"],
          "default": "dots"
        },
        "loop": {
          "type": "boolean",
          "default": true
        },
        "aspectRatio": {
          "type": "number",
          "default": 16/9
        }
      }
    },
    "CarouselItem": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["image", "text", "custom"]
        },
        "src": {
          "type": "string"
        },
        "text": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "subtitle": {
          "type": "string"
        },
        "backgroundColor": {
          "type": "string"
        }
      }
    },
    "Input": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": {
          "const": "input"
        },
        "inputType": {
          "type": "string",
          "enum": ["text", "number", "password", "email", "phone", "idCard"],
          "default": "text"
        },
        "placeholder": {
          "type": "string"
        },
        "value": {
          "type": "string"
        },
        "defaultValue": {
          "type": "string"
        },
        "disabled": {
          "type": "boolean",
          "default": false
        },
        "readonly": {
          "type": "boolean",
          "default": false
        },
        "showClear": {
          "type": "boolean",
          "default": true
        },
        "maxLength": {
          "type": "number"
        },
        "errorMessage": {
          "type": "string"
        },
        "style": {
          "type": "object",
          "properties": {
            "fontSize": {
              "type": "number",
              "default": 16
            },
            "color": {
              "type": "string",
              "default": "#000000"
            },
            "backgroundColor": {
              "type": "string",
              "default": "#FFFFFF"
            },
            "borderRadius": {
              "type": "number",
              "default": 8
            },
            "borderWidth": {
              "type": "number",
              "default": 1
            },
            "borderColor": {
              "type": "string",
              "default": "#E5E5E5"
            },
            "padding": {
              "$ref": "#/definitions/Padding"
            }
          }
        }
      }
    },
    "Picker": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": {
          "const": "picker"
        },
        "pickerType": {
          "type": "string",
          "enum": ["single", "multiple", "date", "time", "datetime"],
          "default": "single"
        },
        "placeholder": {
          "type": "string",
          "default": "请选择"
        },
        "value": {},
        "defaultValue": {},
        "disabled": {
          "type": "boolean",
          "default": false
        },
        "options": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/PickerOption"
          }
        },
        "minDate": {
          "type": "string",
          "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
        },
        "maxDate": {
          "type": "string",
          "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
        },
        "format": {
          "type": "string",
          "default": "YYYY-MM-DD"
        }
      }
    },
    "PickerOption": {
      "type": "object",
      "required": ["label", "value"],
      "properties": {
        "label": {
          "type": "string"
        },
        "value": {},
        "disabled": {
          "type": "boolean",
          "default": false
        }
      }
    },
    "Modal": {
      "type": "object",
      "required": ["type", "content", "buttons"],
      "properties": {
        "type": {
          "const": "modal"
        },
        "title": {
          "type": "string"
        },
        "content": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Component"
              }
            }
          ]
        },
        "buttons": {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/ModalButton"
          }
        },
        "closable": {
          "type": "boolean",
          "default": true
        },
        "maskClosable": {
          "type": "boolean",
          "default": true
        },
        "width": {
          "type": "number",
          "default": 320
        },
        "backgroundColor": {
          "type": "string",
          "default": "#FFFFFF"
        }
      }
    },
    "ModalButton": {
      "type": "object",
      "required": ["text"],
      "properties": {
        "text": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": ["primary", "secondary", "danger", "default"],
          "default": "default"
        },
        "disabled": {
          "type": "boolean",
          "default": false
        },
        "onClickAction": {
          "$ref": "#/definitions/Action"
        }
      }
    },
    "Toast": {
      "type": "object",
      "required": ["type", "message"],
      "properties": {
        "type": {
          "const": "toast"
        },
        "message": {
          "type": "string"
        },
        "duration": {
          "type": "number",
          "default": 2000
        },
        "position": {
          "type": "string",
          "enum": ["top", "center", "bottom"],
          "default": "center"
        },
        "icon": {
          "type": "string",
          "enum": ["success", "error", "info", "warning", "none"],
          "default": "none"
        },
        "mask": {
          "type": "boolean",
          "default": false
        }
      }
    },
    "ActionSheet": {
      "type": "object",
      "required": ["type", "items"],
      "properties": {
        "type": {
          "const": "actionSheet"
        },
        "title": {
          "type": "string"
        },
        "items": {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/ActionSheetItem"
          }
        },
        "cancelButton": {
          "type": "object",
          "properties": {
            "text": {
              "type": "string"
            },
            "onClickAction": {
              "$ref": "#/definitions/Action"
            }
          }
        },
        "maskClosable": {
          "type": "boolean",
          "default": true
        },
        "backgroundColor": {
          "type": "string",
          "default": "#FFFFFF"
        }
      }
    },
    "ActionSheetItem": {
      "type": "object",
      "required": ["text"],
      "properties": {
        "text": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": ["normal", "danger", "disabled"],
          "default": "normal"
        },
        "disabled": {
          "type": "boolean",
          "default": false
        },
        "onClickAction": {
          "$ref": "#/definitions/Action"
        }
      }
    },
    "Text": {
      "type": "object",
      "required": ["type", "content"],
      "properties": {
        "type": {
          "const": "text"
        },
        "content": {
          "type": "string"
        },
        "style": {
          "type": "object",
          "properties": {
            "fontSize": {
              "type": "number",
              "default": 16
            },
            "fontWeight": {
              "type": "string",
              "enum": ["normal", "bold", "semibold"],
              "default": "normal"
            },
            "color": {
              "type": "string",
              "default": "#000000"
            },
            "textAlign": {
              "type": "string",
              "enum": ["left", "center", "right"],
              "default": "left"
            },
            "lineHeight": {
              "type": "number"
            },
            "letterSpacing": {
              "type": "number"
            },
            "textDecoration": {
              "type": "string",
              "enum": ["none", "underline", "line-through"],
              "default": "none"
            }
          }
        }
      }
    },
    "Image": {
      "type": "object",
      "required": ["type", "src"],
      "properties": {
        "type": {
          "const": "image"
        },
        "src": {
          "type": "string"
        },
        "alt": {
          "type": "string"
        },
        "mode": {
          "type": "string",
          "enum": ["aspectFit", "aspectFill", "scaleToFill", "widthFix", "heightFix"],
          "default": "aspectFit"
        },
        "width": {
          "type": "number"
        },
        "height": {
          "type": "number"
        },
        "borderRadius": {
          "type": "number",
          "default": 0
        },
        "onClickAction": {
          "$ref": "#/definitions/Action"
        }
      }
    },
    "Button": {
      "type": "object",
      "required": ["type", "text"],
      "properties": {
        "type": {
          "const": "button"
        },
        "text": {
          "type": "string"
        },
        "buttonType": {
          "type": "string",
          "enum": ["primary", "secondary", "danger", "default"],
          "default": "default"
        },
        "size": {
          "type": "string",
          "enum": ["small", "medium", "large"],
          "default": "medium"
        },
        "disabled": {
          "type": "boolean",
          "default": false
        },
        "loading": {
          "type": "boolean",
          "default": false
        },
        "style": {
          "type": "object",
          "properties": {
            "backgroundColor": {
              "type": "string"
            },
            "color": {
              "type": "string"
            },
            "borderRadius": {
              "type": "number"
            },
            "borderWidth": {
              "type": "number"
            },
            "borderColor": {
              "type": "string"
            }
          }
        },
        "onClickAction": {
          "$ref": "#/definitions/Action"
        }
      }
    },
    "CommonStyle": {
      "type": "object",
      "properties": {
        "backgroundColor": {
          "type": "string"
        },
        "backgroundImage": {
          "type": "string"
        },
        "backgroundSize": {
          "type": "string",
          "enum": ["cover", "contain", "auto"]
        },
        "borderRadius": {
          "type": "number"
        },
        "borderWidth": {
          "type": "number"
        },
        "borderColor": {
          "type": "string"
        },
        "boxShadow": {
          "type": "string"
        },
        "opacity": {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        },
        "overflow": {
          "type": "string",
          "enum": ["visible", "hidden", "scroll", "auto"]
        },
        "margin": {
          "$ref": "#/definitions/Padding"
        }
      }
    },
    "Padding": {
      "type": "object",
      "properties": {
        "top": {
          "type": "number",
          "default": 0
        },
        "bottom": {
          "type": "number",
          "default": 0
        },
        "left": {
          "type": "number",
          "default": 0
        },
        "right": {
          "type": "number",
          "default": 0
        }
      }
    },
    "Actions": {
      "type": "object",
      "properties": {
        "onClick": {
          "$ref": "#/definitions/Action"
        },
        "onLongPress": {
          "$ref": "#/definitions/Action"
        },
        "onLoad": {
          "$ref": "#/definitions/Action"
        },
        "onChange": {
          "$ref": "#/definitions/Action"
        },
        "onFocus": {
          "$ref": "#/definitions/Action"
        },
        "onBlur": {
          "$ref": "#/definitions/Action"
        }
      }
    },
    "Action": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "navigateTo",
            "switchTab",
            "back",
            "showModal",
            "hideModal",
            "showToast",
            "showActionSheet",
            "request",
            "updateState",
            "navigateHome",
            "reload",
            "none"
          ]
        },
        "pageId": {
          "type": "string",
          "description": "目标页面ID（type=navigateTo时必填）"
        },
        "params": {
          "type": "object",
          "description": "页面参数"
        },
        "tabIndex": {
          "type": "number",
          "description": "目标Tab索引（type=switchTab时必填）"
        },
        "modalId": {
          "type": "string",
          "description": "模态弹窗ID（type=showModal/hideModal时）"
        },
        "componentId": {
          "type": "string",
          "description": "目标组件ID（type=updateState时必填）"
        },
        "toast": {
          "$ref": "#/definitions/Toast",
          "description": "Toast配置（type=showToast时）"
        },
        "actionSheet": {
          "$ref": "#/definitions/ActionSheet",
          "description": "ActionSheet配置（type=showActionSheet时）"
        },
        "request": {
          "$ref": "#/definitions/Request",
          "description": "Request配置（type=request时）"
        },
        "updateState": {
          "$ref": "#/definitions/UpdateState",
          "description": "UpdateState配置（type=updateState时）"
        },
        "depth": {
          "type": "number",
          "description": "返回层级（type=back时）",
          "default": 1
        },
        "transition": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": ["push", "fade", "slide"]
            },
            "duration": {
              "type": "number",
              "minimum": 0
            }
          }
        },
        "delay": {
          "type": "number",
          "minimum": 0,
          "description": "延迟执行（毫秒）"
        }
      }
    },
    "Request": {
      "type": "object",
      "required": ["url", "method"],
      "properties": {
        "url": {
          "type": "string",
          "format": "uri"
        },
        "method": {
          "type": "string",
          "enum": ["GET", "POST", "PUT", "DELETE"]
        },
        "headers": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "data": {
          "type": "object"
        },
        "successAction": {
          "$ref": "#/definitions/Action"
        },
        "errorAction": {
          "$ref": "#/definitions/Action"
        }
      }
    },
    "UpdateState": {
      "type": "object",
      "required": ["componentId", "updates"],
      "properties": {
        "componentId": {
          "type": "string"
        },
        "updates": {
          "type": "object"
        },
        "merge": {
          "type": "boolean",
          "default": true
        }
      }
    },
    "Router": {
      "type": "object",
      "required": ["mode", "initialPageId"],
      "properties": {
        "mode": {
          "type": "string",
          "enum": ["stack", "tab"],
          "default": "tab"
        },
        "initialPageId": {
          "type": "string"
        },
        "historyLimit": {
          "type": "number",
          "default": 10
        },
        "transition": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": ["push", "fade", "slide"]
            },
            "duration": {
              "type": "number"
            }
          }
        }
      }
    },
    "Theme": {
      "type": "object",
      "properties": {
        "primaryColor": {
          "type": "string",
          "default": "#1890FF"
        },
        "secondaryColor": {
          "type": "string",
          "default": "#52C41A"
        },
        "errorColor": {
          "type": "string",
          "default": "#FF4D4F"
        },
        "warningColor": {
          "type": "string",
          "default": "#FAAD14"
        },
        "infoColor": {
          "type": "string",
          "default": "#1890FF"
        },
        "textColor": {
          "type": "string",
          "default": "#000000"
        },
        "secondaryTextColor": {
          "type": "string",
          "default": "#595959"
        },
        "disabledTextColor": {
          "type": "string",
          "default": "#BFBFBF"
        },
        "borderColor": {
          "type": "string",
          "default": "#E5E5E5"
        },
        "backgroundColor": {
          "type": "string",
          "default": "#FFFFFF"
        },
        "maskColor": {
          "type": "string",
          "default": "rgba(0,0,0,0.45)"
        }
      }
    }
  }
}
