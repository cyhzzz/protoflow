{
  "version": "2.2.0",
  "app": {
    "id": "state-watcher-demo",
    "name": "Áä∂ÊÄÅÁõëÂê¨ÊºîÁ§∫",
    "version": "2.2.0",
    "description": "ÊºîÁ§∫ StateWatcher Áä∂ÊÄÅÁõëÂê¨ÂäüËÉΩ",
    "pages": [
      {
        "id": "home",
        "name": "È¶ñÈ°µ",
        "description": "Ë¥≠Áâ©ËΩ¶Á§∫‰æã",
        "componentTree": {
          "type": "safeArea",
          "children": [
            {
              "type": "navBar",
              "title": "Ë¥≠Áâ©ËΩ¶",
              "titleStyle": {
                "fontSize": 18,
                "fontWeight": "semibold",
                "color": "#000000"
              },
              "backgroundColor": "#FFFFFF",
              "borderless": false,
              "height": 44
            },
            {
              "type": "card",
              "title": "ÂïÜÂìÅÂàóË°®",
              "elevation": 2,
              "borderRadius": 12,
              "backgroundColor": "#FFFFFF",
              "padding": {
                "top": 16,
                "bottom": 16,
                "left": 16,
                "right": 16
              },
              "children": [
                {
                  "type": "list",
                  "items": [
                    {
                      "type": "listItem",
                      "text": "iPhone 15 Pro",
                      "subtext": { "$template": "¬•7,999 x ${/cart/quantity/iphone}" },
                      "onClickAction": {
                        "type": "addToCart",
                        "item": "iphone"
                      }
                    },
                    {
                      "type": "listItem",
                      "text": "MacBook Pro",
                      "subtext": { "$template": "¬•14,999 x ${/cart/quantity/macbook}" },
                      "onClickAction": {
                        "type": "addToCart",
                        "item": "macbook"
                      }
                    },
                    {
                      "type": "listItem",
                      "text": "AirPods Pro",
                      "subtext": { "$template": "¬•1,999 x ${/cart/quantity/airpods}" },
                      "onClickAction": {
                        "type": "addToCart",
                        "item": "airpods"
                      }
                    }
                  ]
                },
                {
                  "type": "divider"
                },
                {
                  "type": "text",
                  "content": "Ë¥≠Áâ©ËΩ¶Êï∞Èáè",
                  "style": {
                    "fontSize": 16,
                    "fontWeight": "bold",
                    "color": "#000000"
                  }
                },
                {
                  "type": "text",
                  "content": { "$template": "ÂÖ± ${/cart/total} ‰ª∂ÂïÜÂìÅ" },
                  "style": {
                    "fontSize": 14,
                    "color": "#595959"
                  },
                  "watch": {
                    "/cart/total": {
                      "action": {
                        "type": "showToast",
                        "toast": {
                          "message": { "$template": "Ë¥≠Áâ©ËΩ¶Â∑≤Êõ¥Êñ∞Ôºö${/cart/total} ‰ª∂" }
                        }
                      },
                      "debounce": 1000
                    }
                  }
                },
                {
                  "type": "button",
                  "text": "Ê∏ÖÁ©∫Ë¥≠Áâ©ËΩ¶",
                  "buttonType": "danger",
                  "size": "medium",
                  "onClickAction": {
                    "type": "clearCart"
                  }
                }
              ]
            },
            {
              "type": "card",
              "title": "VIPÁä∂ÊÄÅ",
              "elevation": 2,
              "borderRadius": 12,
              "backgroundColor": "#FFFFFF",
              "padding": {
                "top": 16,
                "bottom": 16,
                "left": 16,
                "right": 16
              },
              "children": [
                {
                  "type": "text",
                  "content": {
                    "$cond": {
                      "$state": "/user/vip",
                      "eq": true
                    },
                    "$then": "ÊÇ®ÊòØVIP‰ºöÂëò",
                    "$else": "ÊôÆÈÄö‰ºöÂëò"
                  },
                  "style": {
                    "fontSize": 18,
                    "fontWeight": "bold",
                    "color": {
                      "$cond": {
                        "$state": "/user/vip",
                        "eq": true
                      },
                      "$then": "#FFD700",
                      "$else": "#8E8E93"
                    }
                  },
                  "watch": {
                    "/user/vip": {
                      "action": {
                        "type": "showToast",
                        "toast": {
                          "message": {
                            "$cond": {
                              "$state": "/user/vip",
                              "eq": true
                            },
                            "$then": "üéâ ÊÅ≠ÂñúÂºÄÈÄöVIPÔºÅ",
                            "$else": "üò¢ VIPÂ∑≤ËøáÊúü"
                          }
                        }
                      }
                    }
                  }
                },
                {
                  "type": "button",
                  "text": "ÂàáÊç¢VIP",
                  "buttonType": "primary",
                  "size": "medium",
                  "onClickAction": {
                    "type": "toggleVip"
                  }
                }
              ]
            },
            {
              "type": "card",
              "title": "Ë°®ÂçïÈ™åËØÅ",
              "elevation": 2,
              "borderRadius": 12,
              "backgroundColor": "#FFFFFF",
              "padding": {
                "top": 16,
                "bottom": 16,
                "left": 16,
                "right": 16
              },
              "children": [
                {
                  "type": "input",
                  "inputType": "text",
                  "placeholder": "ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑",
                  "value": { "$bindState": "/form/phone" },
                  "maxLength": 11
                },
                {
                  "type": "text",
                  "content": {
                    "$cond": {
                      "$state": "/form/phone",
                      "exists": true
                    },
                    "$then": {
                      "$cond": {
                        "$state": "/form/phone",
                        "eq": "13800138000"
                      },
                      "$then": "‚úÖ ÊâãÊú∫Âè∑Ê≠£Á°Æ",
                      "$else": "‚ùå ÊâãÊú∫Âè∑‰∏çÊ≠£Á°Æ"
                    },
                    "$else": "ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑"
                  },
                  "style": {
                    "fontSize": 14,
                    "color": {
                      "$cond": {
                        "$state": "/form/phone",
                        "eq": "13800138000"
                      },
                      "$then": "#52C41A",
                      "$else": "#FF4D4F"
                    }
                  },
                  "watch": {
                    "/form/phone": {
                      "action": {
                        "type": "validatePhone"
                      },
                      "throttle": 500
                    }
                  }
                }
              ]
            }
          ]
        }
      }
    ],
    "router": {
      "mode": "stack",
      "initialPageId": "home",
      "historyLimit": 10,
      "transition": {
        "type": "push",
        "duration": 300
      }
    },
    "theme": {
      "primaryColor": "#1890FF",
      "secondaryColor": "#52C41A",
      "errorColor": "#FF4D4F",
      "warningColor": "#FAAD14",
      "textColor": "#000000",
      "backgroundColor": "#FFFFFF"
    },
    "state": {
      "cart": {
        "quantity": {
          "iphone": 0,
          "macbook": 0,
          "airpods": 0
        },
        "total": 0
      },
      "user": {
        "vip": false
      },
      "form": {
        "phone": ""
      }
    }
  }
}
